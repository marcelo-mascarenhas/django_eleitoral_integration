{%extends 'main/layout.html' %}
{% load static %}
{% load mathfilters %}

{% block script %}
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="js/scripts.js"></script>
  <script src="{% static "js/pagination.js" %}"></script>

{% endblock script %}


{% block body%}
<link href="{% static 'css/an.css' %}" rel="stylesheet">

  <h1 class='flex-container3'=>Análise de Dados</h1>
  
  <div class="fx1">
    <div class="flex-left">
      <h4>Filtros</h4>
      <div class="wrap">
        <div class="search">
          <input type="text" class="searchTerm" placeholder="What are you looking for?">
        </div>
      </div>
      <hr>
      <h5>Intervalo de Score</h5>
      <div class="container">
        <div class="row">
          <div class="col-sm-12">
            <div id="slider-range"></div>
          </div>
        </div>
        <div class="row slider-labels">
          <div class="col-xs-6 caption">
            <strong>Minimo:</strong> <span id="slider-range-value1"></span>
          </div>
          <div class="col-xs-6 text-right caption">
            <strong>Máximo:</strong> <span id="slider-range-value2"></span>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <form>
              <input type="hidden" name="min-value" value=""> <input type="hidden" name="max-value" value="">
            </form>
          </div>
        </div>
      </div>
    </div>
    <hr>
    
    
    
    <div class="flex-right">
      <h4> Tweets </h4>
      {% for tweet in tweets %}
      <div class="tweet-wrap">
        <div class="tweet-header">
          <div class="tweet-header-info">
            <span>Tweet ID: {{tweet.tweet_id}}</span> <span>User ID:{{tweet.author_id}}</span> <span>{{tweet.created_at}}</span>
            <p>{{tweet.text}}</p>
            
            <span><strong>Score: {{tweet.electoral_score}}</strong></span>
          </div>
          
        </div>

        <div class="tweet-info-counts">
          
          <div class="comments">
            
            <svg class="feather feather-message-circle sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
            <div class="comment-count">{{tweet.reply_count}}</div>
          </div>
          
          <div class="retweets">
            <svg class="feather feather-repeat sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg>
            <div class="retweet-count">{{tweet.retweet_count}}</div>
          </div>
          
          <div class="likes">
            <svg class="feather feather-heart sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
            <div class="likes-count">{{tweet.like_count}}</div>
          </div>
          

        </div>
        
      </div>
      {% endfor %}

      <div class="flex-container3">
        <nav aria-label="...">
          <ul class="pagination">

            {% if tweets.has_previous %}

              <li class="page-item">
                <a class="page-link" href="?page=1">&laquo;</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="?page={{ tweets.previous_page_number }}">Anterior</a>
              </li>
              
              
              {% if tweets.previous_page_number|sub:1 >= 1 %}
                <li class="page-item"><a class="page-link" href="?page={{tweets.previous_page_number|sub:1}}"> {{tweets.previous_page_number|sub:1}}</a></li>
              {% endif %}
              
              
              
              <li class="page-item"><a class="page-link" href="?page={{tweets.previous_page_number}}">{{tweets.previous_page_number}}</a></li>


            {% endif %}
            
            <li class="page-item active">
              <span class="page-link">{{tweets.number}}<span class="sr-only">(current)</span>
              </span>
            </li>


            {% if tweets.has_next %}


              <li class="page-item"><a class="page-link" href="?page={{tweets.next_page_number}}">{{tweets.next_page_number}}</a></li>
              
              {% if tweets.next_page_number|add:1 <= tweets.paginator.num_pages %}

                <li class="page-item"><a class="page-link" href="?page={{tweets.next_page_number|add:1}}"> {{tweets.next_page_number|add:1}}</a></li>

              
              {%endif%}

              <li class="page-item">
                <a class="page-link" href="?page={{ tweets.next_page_number }}">Próxima</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="?page={{ tweets.paginator.num_pages }}">&raquo;</a>
              </li>
              {%endif%}


          </ul>
        </nav>
      </div>
    </div>
  
  
  
  </div>


{% endblock body  %}